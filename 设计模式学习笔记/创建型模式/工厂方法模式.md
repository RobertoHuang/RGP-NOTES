# 工厂方法模式

- 结构图

  ![工厂方法模式类图](https://raw.githubusercontent.com/RobertoHuang/RGP-NOTES/master/00.%E7%9B%B8%E5%85%B3%E5%9B%BE%E7%89%87/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F.jpg)

- 工厂方法模式包含如下角色

  - 抽象产品
  - 具体产品
  - 抽象工厂
  - 具体工厂

- 代码实例

  - 创建抽象产品类

    ```java
    public abstract class AbstractProduct {
        public void method1() {
            System.out.println("产品类公共方法");
        }
    
        public abstract void method2();
    }
    ```

  - 创建具体产品类

    ```java
    public class ConcreteProduct1 extends AbstractProduct {
        public void method2() {
            System.out.println("具体产品类1");
        }
    }
    ```

    ```java
    public class ConcreteProduct2 extends AbstractProduct {
        public void method2() {
            System.out.println("具体产品类2");
        }
    }
    ```

  - 创建抽象工厂类

    ```java
    public abstract class AbstractFactory {
        public abstract AbstractProduct createProduct();
    }
    ```

  - 创建具体工厂类

    ```java
    public class ConcreteFactory1 extends AbstractFactory {
        public AbstractProduct createProduct() {
            return new ConcreteProduct1();
        }
    }
    ```

    ```java
    public class ConcreteFactory2 extends AbstractFactory{
        public AbstractProduct createProduct() {
            return new ConcreteProduct2();
        }
    }
    ```

  - 创建测试类

    ```java
    public class FactoryMethodTest {
        public static void main(String[] args) {
            AbstractProduct concreteProduct1 = new ConcreteFactory1().createProduct();
            concreteProduct1.method1();
            concreteProduct1.method2();
    
            AbstractProduct concreteProduct2 = new ConcreteFactory2().createProduct();
            concreteProduct2.method1();
            concreteProduct2.method2();
        }
    }
    ```

